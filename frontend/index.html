<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Assistant - Your AI Travel Planning Companion</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" />
    <style>
        :root {
            /* Brand Colors */
            --gradient-start: #6366f1;
            --gradient-end: #8b5cf6;
            --primary: #6366f1;
            --secondary: #818cf8;
            --accent: #fff;
            
            /* UI Colors */
            --surface: #ffffff;
            --background: #f8fafc;
            --button-hover: #4f46e5;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-light: #94a3b8;
            
            /* Status Colors */
            --connected: #22c55e;
            --disconnected: #ef4444;
            --pending: #f59e0b;
            
            /* Fonts */
            --font-primary: 'Plus Jakarta Sans', sans-serif;
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            font-family: var(--font-primary);
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
        }

        .app-container {
            min-height: 100vh;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1440px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: var(--accent);
            margin-bottom: 1.5rem;
            position: relative;
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .connection-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem 1.25rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .status-connected {
            background: var(--connected);
            color: white;
        }

        .status-disconnected {
            background: var(--disconnected);
            color: white;
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-card {
            background: var(--surface);
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 1300px;
            min-height: 600px;
            padding: 4rem;
            margin: 2rem auto;
            display: flex;
            flex-direction: column;
            gap: 2.5rem;
        }

        .welcome-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .welcome-section h2 {
            font-size: 2.25rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: -0.03em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .welcome-section p {
            color: var(--text-secondary);
            font-size: 1.125rem;
            margin-bottom: 1.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .action-button {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 99, 255, 0.2);
            background: var(--secondary);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;  /* Increased from 2rem for more whitespace */
            margin: 2rem auto 0;
            width: 75%;
            max-width: 1000px;  /* Slightly increased for more width */
        }

        .feature-card {
            background: var(--surface);
            padding: 1.5rem;  /* Reduced height by reducing padding */
            border-radius: 16px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(99, 102, 241, 0.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.03);
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;  /* Reduced gap to decrease height */
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(99, 102, 241, 0.12);
            border-color: rgba(99, 102, 241, 0.2);
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.1);
            background: rgba(99, 102, 241, 0.15);
        }

        .feature-icon {
            font-size: 2rem;
            color: var(--primary);
            transition: all 0.3s ease;
            background: rgba(99, 102, 241, 0.1);
            width: 56px;  /* Reduced from 64px */
            height: 56px;  /* Reduced from 64px */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;  /* Reduced from 1.5rem */
        }

        .feature-form {
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            position: relative;
            width: 100%;
        }

        .input-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .feature-input {
            padding: 0.875rem 1rem 0.875rem 2.75rem;
            border: 1px solid var(--text-light);
            border-radius: 12px;
            font-size: 0.95rem;
            width: 100%;
            transition: all 0.3s ease;
            background: var(--background);
            color: var(--text-primary);
        }

        .date-range {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .feature-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.1);
        }

        .feature-submit {
            background: var(--primary);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 0.5rem;
        }

        .feature-submit:hover {
            background: var(--button-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(99, 102, 241, 0.25);
        }

        .feature-submit:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.15);
        }

        .feature-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .feature-card {
            height: 100%;
            background: var(--surface);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
        }

        .feature-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .feature-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Popular Destinations */
        .popular-destinations {
            margin-top: 4rem;
            width: 100%;
        }

        .section-title {
            font-size: 1.75rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .destinations-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 0 auto;
            width: 85%;
        }

        .destination-card {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            aspect-ratio: 16/9;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .destination-card:hover {
            transform: translateY(-4px);
        }

        .destination-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .destination-card:hover img {
            transform: scale(1.05);
        }

        .destination-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
        }

        .destination-info h3 {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
        }

        .destination-info p {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        /* Special Offers */
        .special-offers {
            margin-top: 4rem;
            width: 100%;
        }

        .offers-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 0 auto;
            width: 85%;
        }

        .offer-card {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 16px;
            position: relative;
            border: 1px solid rgba(99, 102, 241, 0.1);
            transition: all 0.3s ease;
        }

        .offer-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
        }

        .offer-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .offer-card h3 {
            font-size: 1.25rem;
            margin: 1rem 0 0.5rem;
            color: var(--text-primary);
        }

        .offer-card p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .offer-button {
            background: none;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .offer-button:hover {
            background: var(--primary);
            color: white;
        }

        /* Testimonials */
        .testimonials {
            margin-top: 4rem;
            width: 100%;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin: 0 auto;
            width: 85%;
        }

        .testimonial-card {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 16px;
            border: 1px solid rgba(99, 102, 241, 0.1);
            transition: all 0.3s ease;
        }

        .testimonial-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
        }

        .testimonial-rating {
            color: #fbbf24;
            margin-bottom: 1rem;
        }

        .testimonial-card p {
            color: var(--text-primary);
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .testimonial-author img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
        }

        .testimonial-author h4 {
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .testimonial-author span {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        @media (max-width: 768px) {
            .app-container {
                padding: 1rem;
            }

            .main-card {
                padding: 2rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .action-button {
                width: 100%;
                justify-content: center;
            }

            .destinations-grid,
            .offers-grid {
                grid-template-columns: 1fr;
                width: 100%;
            }

            .testimonials-grid {
                grid-template-columns: 1fr;
                width: 100%;
            }

            .section-title {
                font-size: 1.5rem;
                margin-bottom: 1rem;
            }

            .popular-destinations,
            .special-offers,
            .testimonials {
                margin-top: 3rem;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="connection-status status-connected">
                <i class="fas fa-circle"></i> Connected
            </div>
            <h1><i class="fas fa-plane-departure"></i> Travel Assistant</h1>
            <p>Your AI Travel Planning Companion</p>
        </header>

        <main class="main-card">
            <section class="welcome-section">
                <h2>Welcome to Travel Assistant! ðŸŒŽ</h2>
                <p>I can help you plan your perfect trip with flights, hotels, and detailed itineraries.</p>
                


                <div class="feature-grid">
                    <a href="flight-booking.html" class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-plane-departure"></i>
                        </div>
                        <h3 class="feature-title">Book Flights</h3>
                        <p class="feature-description">Find and book flights to your dream destination. Compare prices and schedules across multiple airlines.</p>
                    </a>

                    <a href="hotel-booking.html" class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-hotel"></i>
                        </div>
                        <h3 class="feature-title">Book Hotels</h3>
                        <p class="feature-description">Discover and book the perfect accommodations for your stay, from luxury hotels to cozy apartments.</p>
                    </a>

                    <a href="smart-itinerary.html" class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-map-marked-alt"></i>
                        </div>
                        <h3 class="feature-title">Smart Itineraries</h3>
                        <p class="feature-description">Get personalized travel recommendations and create custom itineraries with our AI-powered assistant.</p>
                    </a>
                </div>

                <!-- Popular Destinations Section -->
                <div class="popular-destinations">
                    <h2 class="section-title"><i class="fas fa-map-marker-alt"></i> Popular Destinations</h2>
                    <div class="destinations-grid">
                        <div class="destination-card">
                            <img src="https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80" alt="Goa">
                            <div class="destination-info">
                                <h3>Goa, India</h3>
                                <p>From $299/night</p>
                            </div>
                        </div>
                        <div class="destination-card">
                            <img src="https://images.unsplash.com/photo-1542640244-7e672d6cef4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80" alt="Dubai">
                            <div class="destination-info">
                                <h3>Dubai, UAE</h3>
                                <p>From $399/night</p>
                            </div>
                        </div>
                        <div class="destination-card">
                            <img src="https://images.unsplash.com/photo-1480796927426-f609979314bd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80" alt="Tokyo">
                            <div class="destination-info">
                                <h3>Tokyo, Japan</h3>
                                <p>From $499/night</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Special Offers Section -->
                <div class="special-offers">
                    <h2 class="section-title"><i class="fas fa-gift"></i> Special Offers</h2>
                    <div class="offers-grid">
                        <div class="offer-card">
                            <div class="offer-badge">SAVE 30%</div>
                            <h3>Early Bird Special</h3>
                            <p>Book 60 days in advance and save up to 30% on select hotels</p>
                            <button class="offer-button">View Deal</button>
                        </div>
                        <div class="offer-card">
                            <div class="offer-badge">WEEKEND</div>
                            <h3>Weekend Getaway</h3>
                            <p>Special rates on weekend stays + free breakfast</p>
                            <button class="offer-button">View Deal</button>
                        </div>
                        <div class="offer-card">
                            <div class="offer-badge">BUNDLE</div>
                            <h3>Flight + Hotel Bundle</h3>
                            <p>Save up to 25% when you book flight and hotel together</p>
                            <button class="offer-button">View Deal</button>
                        </div>
                    </div>
                </div>

                <!-- Testimonials Section -->
                <div class="testimonials">
                    <h2 class="section-title"><i class="fas fa-quote-left"></i> What Our Travelers Say</h2>
                    <div class="testimonials-grid">
                        <div class="testimonial-card">
                            <div class="testimonial-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p>"Amazing service! The AI helped me plan the perfect vacation. Found great deals on flights and hotels."</p>
                            <div class="testimonial-author">
                                <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Sarah">
                                <div>
                                    <h4>Sarah M.</h4>
                                    <span>New York, USA</span>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-card">
                            <div class="testimonial-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p>"The itinerary suggestions were spot on! Made my trip to Japan so much easier to plan."</p>
                            <div class="testimonial-author">
                                <img src="https://randomuser.me/api/portraits/men/47.jpg" alt="James">
                                <div>
                                    <h4>James W.</h4>
                                    <span>London, UK</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const API = {
            baseUrl: 'http://localhost:8000',
            
            async getResponse(message) {
                try {
                    const response = await fetch(`${this.baseUrl}/chat`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ 
                            message: message,
                            user_id: 'default-user'
                        })
                    });
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    const data = await response.json();
                    console.log('Response:', data);
                    return data;
                } catch (error) {
                    console.error('Error:', error);
                    return { response: 'Sorry, there was an error processing your request.' };
                }
            },
            
            async checkConnection() {
                try {
                    const response = await fetch(this.baseUrl);
                    return response.ok;
                } catch (error) {
                    console.error('Connection check failed:', error);
                    return false;
                }
            }
        };

        document.addEventListener('DOMContentLoaded', async () => {
            const input = document.querySelector('.chat-input input');
            const sendButton = document.querySelector('.send-button');
            const connectionStatus = document.querySelector('.connection-status');

            // Check connection on load
            const isConnected = await API.checkConnection();
            if (!isConnected) {
                connectionStatus.classList.remove('status-connected');
                connectionStatus.classList.add('status-disconnected');
                connectionStatus.innerHTML = '<i class="fas fa-circle"></i> Disconnected';
            }

            const addMessage = (message, isUser) => {
                const messagesDiv = document.querySelector('.chat-messages');
                const messageEl = document.createElement('div');
                messageEl.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
                messageEl.textContent = message;
                messagesDiv.appendChild(messageEl);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            };

            const sendMessage = async () => {
                const message = input.value.trim();
                if (!message) return;

                try {
                    addMessage(message, true);
                    input.value = '';
                    const response = await API.getResponse(message);
                    console.log('Bot response:', response);
                    if (response && response.response) {
                        addMessage(response.response, false);
                    }
                } catch (error) {
                    console.error('Error:', error);
                    connectionStatus.classList.remove('status-connected');
                    connectionStatus.classList.add('status-disconnected');
                    connectionStatus.innerHTML = '<i class="fas fa-circle"></i> Disconnected';
                }
            };

            sendButton.addEventListener('click', sendMessage);
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });

            // Set minimum date for date inputs
            const today = new Date().toISOString().split('T')[0];
            document.querySelectorAll('input[type="date"]').forEach(dateInput => {
                dateInput.min = today;
            });

            // Feature card interactions
            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    if (e.target.classList.contains('feature-input') || e.target.classList.contains('feature-submit')) {
                        return;
                    }

                    document.querySelectorAll('.feature-card').forEach(c => {
                        if (c !== this) {
                            c.classList.remove('active');
                            c.querySelector('.feature-form').classList.remove('active');
                        }
                    });

                    this.classList.toggle('active');
                    const form = this.querySelector('.feature-form');
                    form.classList.toggle('active');
                });
            });

            // Handle feature form submissions
            document.querySelectorAll('.feature-submit').forEach(button => {
                button.addEventListener('click', async (e) => {
                    e.preventDefault();
                    const card = button.closest('.feature-card');
                    const action = card.dataset.action;
                    const formData = {};

                    card.querySelectorAll('.feature-input').forEach(input => {
                        formData[input.id] = input.value;
                    });

                    let message = '';
                    switch (action) {
                        case 'flight-search':
                            message = `I want to search for flights from ${formData['flight-from']} to ${formData['flight-to']} on ${formData['flight-date']}`;
                            break;
                        case 'travel-ideas':
                            message = `Can you suggest ${formData['ideas-type']} activities in ${formData['ideas-destination']}?`;
                            break;
                        case 'itinerary':
                            message = `Create a ${formData['plan-duration']}-day itinerary for ${formData['plan-destination']} starting from ${formData['plan-start-date']}`;
                            break;
                    }

                    input.value = message;
                    await sendMessage();
                    
                    // Reset and close the form
                    card.classList.remove('active');
                    card.querySelector('.feature-form').classList.remove('active');
                });
            });

            // Action button handlers
            document.querySelectorAll('.action-button').forEach(button => {
                button.addEventListener('click', () => {
                    const action = button.textContent.trim();
                    let message = '';

                    switch (action) {
                        case 'Find Flights':
                            message = 'I want to search for flights';
                            break;
                        case 'Get Travel Ideas':
                            message = 'Can you suggest some travel destinations?';
                            break;
                        case 'Plan Itinerary':
                            message = 'Help me create a travel itinerary';
                            break;
                    }

                    input.value = message;
                    sendMessage();
                });
            });
        });
    </script>
</body>
</html>